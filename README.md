# Telegram Bot с сайтом-визиткой

Проект включает в себя:
- Telegram бота на Python с использованием aiogram 3.0+
- Сайт-визитку на React для представления бота
- Скрипты для автоматического деплоя

## Структура проекта

```
├── .github/workflows   # GitHub Actions для CI/CD
├── bot/                # Исходный код Telegram бота
│   ├── bot.py          # Основной файл бота
│   ├── requirements.txt # Зависимости Python
│   └── env.example     # Пример файла переменных окружения
├── web/                # React-приложение (сайт-визитка)
│   ├── public/         # Статические файлы
│   └── src/            # Исходный код React
├── deploy.sh           # Скрипт деплоя на сервер
├── server-setup.sh     # Скрипт начальной настройки сервера
└── README.md           # Документация проекта
```

## Требования

### Для локальной разработки
- Python 3.8+
- Node.js 16+
- npm 8+

### Для деплоя
- VPS/VDS с Ubuntu 20.04+
- Домен, настроенный на сервер
- Учетная запись GitHub с настроенными секретами для CI/CD

## Установка и запуск

### Локальная разработка бота

1. Перейдите в директорию бота:
```bash
cd bot
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv venv
source venv/bin/activate   # Linux/Mac
venv\Scripts\activate      # Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл .env на основе env.example и внесите в него свои данные:
```bash
cp env.example .env
```

5. Запустите бота:
```bash
python bot.py
```

### Локальная разработка сайта

1. Перейдите в директорию веб-приложения:
```bash
cd web
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите приложение в режиме разработки:
```bash
npm start
```

## Деплой на сервер

### Ручной деплой

1. Клонируйте репозиторий на сервер:
```bash
git clone https://github.com/your-username/your-repo.git
```

2. Запустите скрипт начальной настройки сервера:
```bash
chmod +x server-setup.sh
./server-setup.sh
```

3. Отредактируйте файл .env для настройки бота:
```bash
nano /var/www/bot.hxvisual.ru/bot/.env
```

### Автоматический деплой через GitHub Actions

1. Добавьте следующие секреты в настройки репозитория GitHub:
   - `SSH_PRIVATE_KEY`: приватный SSH-ключ для доступа к серверу
   - `SERVER_HOST`: IP-адрес или домен сервера
   - `SERVER_USER`: имя пользователя на сервере

2. Создайте и настройте пару SSH-ключей для деплоя.

3. При каждом пуше в ветку main будет автоматически запускаться деплой на сервер.

## Привязка домена

1. Настройте DNS-записи для домена bot.hxvisual.ru, указав на IP-адрес вашего сервера.
2. Скрипт server-setup.sh уже включает настройку Nginx и получение SSL-сертификата.

## Разработчики

- Ваше имя и контактная информация

## Лицензия

MIT 